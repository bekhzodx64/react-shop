{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Preloader","GoodsItem","props","mainId","displayName","displayDescription","full_background","displayAssets","finalPrice","price","addToBasket","Function","prototype","src","alt","onClick","GoodsList","goods","length","map","item","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incQuantity","decQuantity","BasketList","order","totalPrice","reduce","sum","el","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","useEffect","fetch","headers","Authorization","process","then","response","json","data","shop","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5056f673.chunk.js","sourcesContent":["function Header() {\r\n  return (\r\n    <nav className='blue'>\r\n      <div className='nav-wrapper'>\r\n        <a href='#' className='brand-logo'>\r\n          React Shop\r\n        </a>\r\n        <ul id='nav-mobile' className='right '>\r\n          <li>\r\n            <a href='#' className='nav-link'>\r\n              Repository\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport { Header };\r\n","function Footer() {\r\n  return (\r\n    <footer className='page-footer blue'>\r\n      <div className='footer-copyright'>\r\n        <div className='container'>\r\n          © {new Date().getFullYear()} Copyright Text\r\n          <a className='grey-text text-lighten-4 right' href='#'>\r\n            Repository\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport { Footer };\r\n","function Preloader() {\r\n  return (\r\n    <div className='preloader-wrapper big active'>\r\n      <div className='spinner-layer spinner-blue-only'>\r\n        <div className='circle-clipper left'>\r\n          <div className='circle'></div>\r\n        </div>\r\n        <div className='gap-patch'>\r\n          <div className='circle'></div>\r\n        </div>\r\n        <div className='circle-clipper right'>\r\n          <div className='circle'></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Preloader };\r\n","function GoodsItem(props) {\r\n  const {\r\n    mainId,\r\n    displayName,\r\n    displayDescription,\r\n    displayAssets: [{ full_background }],\r\n    price: { finalPrice },\r\n    addToBasket = Function.prototype,\r\n  } = props;\r\n\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-image'>\r\n        <img src={full_background} alt={displayName} />\r\n      </div>\r\n      <div className='card-content'>\r\n        <span className='card-title'>{displayName}</span>\r\n        <p>{displayDescription}</p>\r\n      </div>\r\n      <div className='card-action'>\r\n        <button\r\n          className='btn blue'\r\n          onClick={() =>\r\n            addToBasket({\r\n              mainId,\r\n              displayName,\r\n              price: { finalPrice },\r\n            })\r\n          }\r\n        >\r\n          Купить\r\n        </button>\r\n        <span className='right cost'>{finalPrice} руб.</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { GoodsItem };\r\n","import { GoodsItem } from './GoodsItem';\r\n\r\nfunction GoodsList(props) {\r\n  const { goods = [], addToBasket = Function.prototype } = props;\r\n\r\n  if (!goods.length) {\r\n    return <h3>Ничего не найдено</h3>;\r\n  }\r\n\r\n  return (\r\n    <div className='goods'>\r\n      {goods.map((item) => (\r\n        <GoodsItem key={item.mainId} {...item} addToBasket={addToBasket} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { GoodsList };\r\n","function Cart(props) {\r\n  const { quantity = 0, handleBasketShow = Function.prototype } = props;\r\n\r\n  return (\r\n    <div className='cart blue white-text' onClick={handleBasketShow}>\r\n      <i className='material-icons'>shopping_cart</i>\r\n      {quantity ? <span className='cart-quantity'>{quantity}</span> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Cart };\r\n","function BasketItem(props) {\r\n  const {\r\n    mainId,\r\n    displayName,\r\n    price: { finalPrice },\r\n    quantity,\r\n    removeFromBasket = Function.prototype,\r\n    incQuantity = Function.prototype,\r\n    decQuantity = Function.prototype,\r\n  } = props;\r\n\r\n  return (\r\n    <li className='collection-item'>\r\n      {displayName}{' '}\r\n      <i className='material-icons blue-text basket-quantity' onClick={() => decQuantity(mainId)}>\r\n        remove_circle\r\n      </i>{' '}\r\n      x{quantity}{' '}\r\n      <i className='material-icons blue-text basket-quantity' onClick={() => incQuantity(mainId)}>\r\n        add_circle\r\n      </i>{' '}\r\n      = {finalPrice * quantity} руб.\r\n      <span className='secondary-content' onClick={() => removeFromBasket(mainId)}>\r\n        <i className='material-icons basket-delete red-text'>close</i>\r\n      </span>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport { BasketItem };\r\n","import { BasketItem } from './BasketItem';\r\n\r\nfunction BasketList(props) {\r\n  const { order = [], handleBasketShow = Function.prototype, removeFromBasket = Function.prototype, incQuantity, decQuantity } = props;\r\n\r\n  const totalPrice = order.reduce((sum, el) => {\r\n    return sum + el.price.finalPrice * el.quantity;\r\n  }, 0);\r\n\r\n  return (\r\n    <ul className='collection basket-list'>\r\n      <li className='collection-item active blue'>Корзина</li>\r\n      {order.length ? (\r\n        order.map((item) => (\r\n          <BasketItem key={item.mainId} removeFromBasket={removeFromBasket} incQuantity={incQuantity} decQuantity={decQuantity} {...item} />\r\n        ))\r\n      ) : (\r\n        <li className='collection-item'>Корзина пуста</li>\r\n      )}\r\n      <li className='collection-item active blue'>Общая стоимость: {totalPrice} руб.</li>\r\n      <i className='material-icons basket-close' onClick={handleBasketShow}>\r\n        close\r\n      </i>\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport { BasketList };\r\n","import { useState, useEffect } from 'react';\r\nimport { API_KEY, API_URL } from '../config';\r\n\r\nimport { Preloader } from './Preloader';\r\nimport { GoodsList } from './GoodsList';\r\nimport { Cart } from './Cart';\r\nimport { BasketList } from './BasketList';\r\n\r\nfunction Shop() {\r\n  const [goods, setGoods] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [order, setOrder] = useState([]);\r\n  const [isBasketShow, setBasketShow] = useState(false);\r\n\r\n  const addToBasket = (item) => {\r\n    const itemIndex = order.findIndex((orderItem) => orderItem.mainId === item.mainId);\r\n\r\n    if (itemIndex < 0) {\r\n      const newItem = {\r\n        ...item,\r\n        quantity: 1,\r\n      };\r\n      setOrder([...order, newItem]);\r\n    } else {\r\n      const newOrder = order.map((orderItem, index) => {\r\n        if (index === itemIndex) {\r\n          return {\r\n            ...orderItem,\r\n            quantity: orderItem.quantity + 1,\r\n          };\r\n        } else {\r\n          return orderItem;\r\n        }\r\n      });\r\n      setOrder(newOrder);\r\n    }\r\n  };\r\n\r\n  const removeFromBasket = (itemId) => {\r\n    const newOrder = order.filter((el) => el.mainId !== itemId);\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const incQuantity = (itemId) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.mainId === itemId) {\r\n        const newQuantity = el.quantity + 1;\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity,\r\n        };\r\n      } else {\r\n        return el;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const decQuantity = (itemId) => {\r\n    const newOrder = order.map((el) => {\r\n      if (el.mainId === itemId) {\r\n        const newQuantity = el.quantity - 1;\r\n        return {\r\n          ...el,\r\n          quantity: newQuantity >= 0 ? newQuantity : 0,\r\n        };\r\n      } else {\r\n        return el;\r\n      }\r\n    });\r\n    setOrder(newOrder);\r\n  };\r\n\r\n  const handleBasketShow = () => {\r\n    setBasketShow(!isBasketShow);\r\n  };\r\n\r\n  useEffect(function getGoods() {\r\n    fetch(API_URL, {\r\n      headers: {\r\n        Authorization: API_KEY,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        data.shop && setGoods(data.shop);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <main className='container content'>\r\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\r\n      {loading ? <Preloader /> : <GoodsList goods={goods} addToBasket={addToBasket} />}\r\n      {isBasketShow && (\r\n        <BasketList\r\n          order={order}\r\n          handleBasketShow={handleBasketShow}\r\n          removeFromBasket={removeFromBasket}\r\n          incQuantity={incQuantity}\r\n          decQuantity={decQuantity}\r\n        />\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport { Shop };\r\n","const API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\r\n\r\nexport { API_KEY, API_URL };\r\n","import { Header } from './components/Header';\nimport { Footer } from './components/Footer';\nimport { Shop } from './components/Shop';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}